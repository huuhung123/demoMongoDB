<!-- 
NOSQL(dongodb.com/doc/server,MongoDB, RavenDB, Redis, Neo4j,) mongodbtutorialspoint
  - NoSQL là Not Only SQL (Non relational)
  - Không sử dụng mô hình dữ liệu quan hệ (RDBMs)
  - Mô hình lưu trữ {"key" : "value"}
  - Hệ thống lưu trữ phân tán, NoSQL là hệ cơ sở dữ liệu không ràng buộc, phân tán, mã nguồn mở, khả năng mở rộng theo chiều ngang, độ chịu tải và chịu lỗi cao, yêu cầu về tài nguyên phần cứng thấp.
  - High scalability, vertical scalable(mở rộng theo chiều dọc - nâng cấp server(SQL), scale up), horizontal scalable(mở rộng theo chiều ngang - thêm server, scale out)

RELATIONAL                NON - RELATIONAL
table                       collection
dòng(record, row)           BSON document
column                      field

Nhắc lại một chút, database (DB) là một cơ sở dữ liệu, gồm các bảng, hàng, cột. Những thứ mình sẽ nhắc đến trong bài như: MySQL, Microsoft SQL server, MongoDB, .. là hệ quản trị cơ sở dữ liệu (DBMS). Các bạn đừng nhầm lẫn 2 khái niệm này. Thật ra, SQL không phải là … DB, cũng không phải là DBMS. Nó là viết tắt của Structure Query Language (Ngôn ngữ truy vấn cấu trúc). Ngôn ngữ này truy vấn trên nền một RDBMS (Hệ quản trị CSDL quan hệ). Đây là thứ các bạn sinh viên được dạy trong môn “Cơ sở dữ liệu”.Trong RDBMS, dữ liệu được lưu vào nhiều bảng. Mỗi bảng sẽ có nhiều cột, nhiều row. Ta sử dụng SQL để truy vấn. RDBMS (MySQL, Microsoft SQL Server, Oracle, …) được sử dụng rất rộng rãi, trong hầu hết các ứng dụng, vì một số lý do sau:
   Tính ACID (Atomicity, Consistency, Isolation, Durability) của một transaction được đảm bảo.
   Với database chuẩn 3, dữ liệu được đảm bảo tính đồng nhất và toàn vẹn (consistency).
   Có rất nhiều driver cho mọi ngôn ngữ: Java, C#, PHP.
   Số lượng lập trình viên biết và dùng SQL rất nhiềuuuuuuuuu.
uy nhiên, RDBMS vẫn còn một số khuyết điểm:
   Việc mapping giữa các bảng trong database với các object trong code khá rắc rối và phức tạp. (Mặc dù 1 số ORM như Entity Framework, Hibernate đã đơn giản hóa chuyện này).
   Performance sẽ bị chậm khi phải join nhiều bảng để lấy dữ liệu (Đó là lý do ta sử dụng “giảm chuẩn” để tăng hiệu suất cho RDBMS).
   Việc thay đổi cấu trúc dữ liệu (Thêm/xóa bảng hoặc thêm/xóa một field) rất mệt mỏi, kéo theo vô số thay đổi trên code.
   Không làm việc được với dữ liệu không có cấu trúc (un-structure).
    RDBMS được thiết kế để chạy trên một máy chủ. Khi muốn mở rộng, nó khó chạy trên nhiều máy (clustering).
NoSQL Database (Phải là NoSQL Database nhé) ra đời, giải quyết được những khuyết điểm của RDBMS:
   Dữ liệu trong NoSQL DB được lưu dưới dạng document, object. Truy vấn dễ dàng và nhanh hơn RDBMS nhiều.
   NoSQL có thể làm việc hoàn toàn ok với dữ liệu dạng không có cấu trúc.
   Việc đổi cấu trúc dữ liệu (Thêm, xóa trường hoặc bảng) rất dễ dàng và nhanh gọn trong NoSQL.
   Vì không đặt nặng tính ACID của transactions và tính nhất quán của dữ liệu, NoSQL DB có thể mở rộng, chạy trên nhiều máy một cách dễ dàng.

PL    +   FRAMEWORK   +   DATABASE
LAMP:  Linux Apache, MySQL(SQL), PHP/Python
MERN: MongoDB(NoSQL), Express, React, NodeJS
Microsoft: .NET, IIS and SQL Server
Java: Java, Apache and Oracle

Giờ đây, NoSQL sẽ dần chiếm vị trí của RDBMS. Một số chức năng của ứng dụng không quá coi trọng tính toàn vẹn của dữ liệu, nhưng lại cần tốc độ truy vấn nhanh, dễ truy vấn. Các chức năng này sẽ sử dụng NoSQL để truy vấn/lưu trữ dữ liệu.

Có nhiều loại CSDL NoSQL, các loại này không giống nhau về cách lưu trữ. Và được chia thành những nhóm sau:
   - Key-value stores: ý tưởng sử dụng hash-table
-->

<!-- 
INTRODUCTION
Document Database
A record in MongoDB is a BSON document(. BSON is a binary representation of JSON documents, though it contains more data types than JSON), which is a data structure composed of field and value pairs. MongoDB documents are similar to JSON objects. The values of fields may include other documents, arrays, and arrays of documents.
Ex: {
      name: "sue",                 field: value
      age: 26,                     field: value
      groups: ["new", "sports"]    field: value
    }
MongoDB stores documents in collections. Collections are analogous to tables in relational databases.

Key Features: High Performance, Rich Query Language, High Availability, Horizontal Scalability, Support for Multiple Storage Engines
-->

<!-- 
1. DB: Create:(use DB_name -> switched to ..), show dbs, drop DB_name
2. COLLECTIONS: Create(db.createCollection(name, options)), show collections, drop:(db.Colletion_name.drop())
3. Document: db.collection_name.insertOne(insertMany)([]), remove({}, 1)({})({delletion_critteria}), updateOne(Many)({}, {$set: {}})
4. Query document: db.Collection_Name.find().pretty()
db.mycol.find({"likes":{$lt:50}}).pretty(), $lt,lte,gt,gte,ne,in,nin
db.mycol.find({"name":{$in:["Raj", "Ram", "Raghu"]}}).pretty()
db.mycol.find({$and:[{"by":"tutorials point"},{"title": "MongoDB Overview"}]}).pretty()
db.mycol.find({$or:[{"by":"tutorials point"},{"title": "MongoDB Overview"}]}).pretty()
db.mycol.find({"likes": {$gt:10}, $or: [{"by": "tutorials point"}, {"title": "MongoDB Overview"}]}).pretty()
 db.empDetails.find({$nor:[{"First_Name": "Radhika"},		{"Last_Name": "Christopher"}]}.pretty()
5. Projection: db.mycol.find({},{"title":1,_id:0})
6. Limit Records: 
db.mycol.find({},{"title":1,_id:0}).limit(2)
db.mycol.find({},{"title":1,_id:0}).limit(1).skip(1)
7. Sort Records:
db.mycol.find({},{"title":1,_id:0}).sort({"title":-1}) (1: ascending, -1: descending)
-->


<!-- 
db.studentData.updateMany({}, { $set: { profilepic: {small: 50, med: 100, large: 200}}})
db.studentData.find({"profilepic.med": 100})
db.studentData.findOne({name: "Mark"}).lastlogin
Relational: ràng buộc
Non - relational: không ràng buộc
High Scalability: khả năng mở rộng
Vertical scalable: khả năng mở rộng chiều dọc
Horizontal scalable: khả năng mở rộng chiều ngang
Distributed data: phân tán dữ liệu
deployment flexibility: triển khai linh hoạt
high availability: tính sẵn sàng
Eventual consistency: nhất quán cuối
durability: lưu trữ tốt

Relation:
db.persons.insertOne({
    name: ...,
    ...
})
db.videos.insertOne({
    topic:"Fun One",
    length: 4,
    creator: ObjectId("5c9b90361a0344a90724042b")
})
one to many, one to one, many to many relation
-->

